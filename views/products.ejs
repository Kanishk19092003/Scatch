<%- include('./partials/header') %>

<div class="w-full min-h-screen bg-white text-zinc-900 p-10">
    <div class="container mx-auto">
        <div class="flex flex-col md:flex-row gap-10">
            <div class="w-full md:w-1/4">
                <h3 class="text-xl font-semibold mb-4">Admin Menu</h3>
                <div class="flex flex-col gap-2">
                    <a class="block w-fit text-blue-400 hover:text-blue-300" href="/owners/admin/products">All Products</a>
                    <a class="block w-fit text-blue-400 hover:text-blue-300" href="/owners/admin">Create New Product</a>
                </div>
            </div>
            <main class="w-full md:w-3/4 bg-zinc-100 p-8 rounded-lg shadow-lg">
                <h2 class="text-2xl font-bold mb-6">All Products</h2>
                <div class="relative overflow-x-auto">
                    <table class="w-full text-sm text-left text-gray-700">
                        <thead class="text-xs text-gray-700 uppercase bg-zinc-200">
                            <tr>
                                <th scope="col" class="px-6 py-3">Image</th>
                                <th scope="col" class="px-6 py-3">Name</th>
                                <th scope="col" class="px-6 py-3">Price</th>
                                <th scope="col" class="px-6 py-3">Discount</th>
                                <th scope="col" class="px-6 py-3">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% products.forEach(function(product){ %>
                            <tr class="bg-white border-b border-zinc-200">
                                <td class="px-6 py-4">
                                    <div class="w-12 h-12 bg-zinc-200 rounded-md flex items-center justify-center">
                                        <% if (product.image && product.image.length > 32) { %>
                                            <img class="h-full w-full object-contain" src="data:image/jpeg;base64,<%= product.image.toString('base64') %>" alt="<%= product.name %>">
                                        <% } else { %>
                                            <span class="text-xs">No Img</span>
                                        <% } %>
                                    </div>
                                </td>
                                <th scope="row" class="px-6 py-4 font-medium text-zinc-900 whitespace-nowrap"><%= product.name %></th>
                                <td class="px-6 py-4">$<%= product.price %></td>
                                <td class="px-6 py-4"><%= product.discount %>%</td>
                                <td class="px-6 py-4">
                                    <a href="#" class="font-medium text-blue-500 hover:underline">Edit</a>
                                </td>
                            </tr>
                            <% }) %>
                        </tbody>
                    </table>
                </div>
            </main>
        </div>
    </div>
</div>

<%- include('./partials/footer') %>